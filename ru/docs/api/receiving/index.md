# Получение данных

Для получения входящих сообщений, статусов отправленных сообщений и прочих данных в ГринАПИ предусмотрено две технологии:

- Webhook HTTP API (рекомендуется)
- Webhook Endpoint

Webhook HTTP API

Технология Webhook HTTP API позволяет выполнять получение данных через обычные HTTP API запросы по аналогии, как реализованы остальные методы ГринАПИ. При этом гарантируется хронологический порядок следования уведомлений в той последовательности, в которой они были получены (FIFO). Технология Webhook HTTP API является рекомендуемым способом получения входящих данных. Реализовать получение данных по этой технологии проще по сравнению с технологией Webhook Endpoint. Дополнительным преимуществом является гарантированная доставка входящих данных. Все входящие данные сохраняются в очереди и ожидают своего получения в течение 24 часов.
Для получения входящих данных требуется выполнить последовательно вызов двух методов receiveWebhook и deleteWebhook. Метод receiveWebhook выполняет получение входящего уведомления. Метод deleteWebhook подтверждает успешное получение и обработку уведомления. Подробнее о методах смотрите в соответствующих разделах receiveWebhook и deleteWebhook.

> Срок хранения входящих уведомлений составляет 24 часа.

Настройка методом setSettings

Для настройки получения webhook уведомлений по технологии Webhook HTTP API требуется указать в качестве webhookUrl значение:

```
https://webhook.green-api.com/v1/
```

Также требуется указать какие виды webhook уведомлений требуется получать. Для включения webhook уведомлений по видам, а также для указания webhookUrl воспользуйтес методом setSettings.

Пример тела запроса метода setSettings

```json
{
    "webhookUrl": "https://webhook.green-api.com/v1/",
    "outgoingWebhook": "yes",
    "stateWebhook": "yes",
    "incomingWebhook": "yes",
    "deviceWebhook": "no"
}
```

Настройка в личном кабинете

Настройку получения webhook уведомлений можно также выполнить интерактивно. Для этого перейдите в [Личный кабинет](https://cabinet.green-api.com) и выберите требуемый аккаунт. Если аккаунт авторизован, то будут отображены настройки для получения webhook уведомлений см. рис. Укажите значение параметра webhookUrl, а также переключатели по видам webhook уведомлений.

Получение webhook уведомлений

После выполнения настройки аккаунта можно приступать к получению webhook уведомлений методами receiveWebhook и deleteWebhook. Пример кода получения webhook уведомлений на NodeJS можно посмотреть в [файле]().



Webhook Endpoint

Технология Webhook Endpoint позволяет выполнять получение данных непосредственно на вашем сервере. Для получения входящих уведомлений по технологии Webhook Endpoint потребуется выполнить следующие шаги:

- опубликовать статический IP-адрес в Интернете
- реализовать логику обработки входящих уведомлений на указанный IP-адрес

IP-адрес

Для получения webhook уведомлений требуется наличие публичного IP-адреса (endpoint), который будет доступен из сети Интернет. Таким образом сервер ГринАПИ сможет выполнить вызов сашего сервера по указанному адресу и передать входящее webhook уведомление.

Обработка входящих webhook уведомлений

После получения входящего вызова на ваш адрес потребуется выполнить обработку webhook уведомления. Пример кода обработки входящго webhook уведомления на NodeJS можно посмотреть в [файле]().