# CreateInstance

Метод предназначен для создания инстанса аккаунта мессенджера от имени партнера.

## Запрос

Для создания инстанса аккаунта от имени партнера требуется выполнить POST запрос по адресу:
```
https://api.green-api.com/partner/createInstance/{partnerToken}
```

>Получение параметра запроса `partnerToken` происходит через техподдержку Green API (support@green-api.com) с запросом получить API-ключ партнера.

### Параметры запроса

Допускается указывать параметры выборочно. Хотя бы один параметр должен быть указан.

Параметр | Тип | Обязательный | Описание
----- | ----- | ----- | -----
`webhookUrl`| __string__ | необязательный | URL для отправки webhook оповещений
`webhookUrlToken` | __string__ | необязательный | Токен для подключения к вашему вебхук серверу;
`delaySendMessagesMilliseconds` | __integer__ | необязательный | задержка между отправкой исходящих сообщений в миллисекундах, по умолчанию 3000 мсек, минимум 500 мсек
`markIncomingMessagesReaded` | __string__ | необязательный | отмечать входящие сообщения прочитанными или нет (“yes”/”no”), по умолчанию “no”, параметр игнорируется, если markIncomingMessagesReadedOnReply в значении “yes”
`markIncomingMessagesReadedOnReply` | __string__ | необязательный |  отмечать входящие сообщения прочитанными или нет (“yes”/”no”) при отправке сообщения в чат, по умолчанию “no” (входящие сообщения не помечаются прочитанными)
`outgoingWebhook` | __string__ | необязательный | Получать уведомления о статусах отправки/доставки/прочтении исходящих сообщений, возможные значения: “yes”, “no”. По умолчанию “no”
`outgoingMessageWebhook` | __string__ | необязательный | Получать уведомления о сообщениях, отправленных с телефона, возможные значения: “yes”, “no”.  По умолчанию “no”
`stateWebhook` | __string__ | необязательный | Получать уведомления об изменении состояния авторизации аккаунта, возможные значения: “yes”, “no”. По умолчанию “no”
`incomingWebhook` | __string__ | необязательный | Получать уведомления о входящих сообщениях и файлах, возможные значения: “yes”, “no”. По умолчанию “no”
`deviceWebhook` | __string__ | необязательный | Получать уведомления об устройстве (телефоне) и уровне заряда батареи, возможные значения: “yes”, “no”. По умолчанию “no”
`stateWebhook` | __string__ | необязательный | Получать уведомления об изменении состояния авторизации аккаунта, возможные значения: “yes”, “no”. По умолчанию “no”
`outgoingAPIMessageWebhook` | __string__ | необязательный | Получать уведомления о сообщениях, отправленных из API, возможные значения: “yes”, “no”.  По умолчанию “no”
`keepOnlineStatus` | __string__ | необязательный | Отображать статус инстанса “В сети”. Возможные значения: “yes”, “no”. По умолчанию “no”. Примечание: При включенной настройке не будут приходить звуковые уведомления о новых сообщениях на телефонный аппарат, подключенный к API


### Пример тела запроса

```json
{
    "webhookUrl": "https://mysite.com/webhook/green-api/",
    "webhookUrlToken": "f93537eb3e8fed66847b5bd",
    "delaySendMessagesMilliseconds": 1000,
    "markIncomingMessagesReaded": "no",
    "markIncomingMessagesReadedOnReply": "no",
    "outgoingAPIMessageWebhook": "yes",
    "outgoingWebhook": "yes",
    "outgoingMessageWebhook": "yes",
    "incomingWebhook": "yes",
    "deviceWebhook": "no",
    "stateWebhook": "no",
     "keepOnlineStatus": "no"
}
```

## Ответ 

### Поля ответа 

Поле | Тип |  Описание
----- | ----- | ----- 
`idInstance` | **int** | идентификатор инстанса аккаунта
`apiTokenInstance` | **string** | токен API инстанса аккаунта
`typeInstance` | **string** | тип мессенджера для инстанса аккаунта

### Пример тела ответа 

В случае успеха, в ответ на запрос, отдается JSON строка следующего вида с HTTP статусом 200:

```json
{
    "idInstance": 1101728000,
    "apiTokenInstance": "c1b0474542144e0ead529eb4861ca5f583c346eb00564f64a7",
    "typeInstance": "whatsapp"
}
```

В случае неудачи, отдается ответ с HTTP статусом 400 и текстом ошибки.
